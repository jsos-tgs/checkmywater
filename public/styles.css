/* Base */
:root{
  --blue:#1677ff;
  --green:#2e7d32;
  --amber:#f9a825;
  --red:#c62828;
  --grey:#9e9e9e;
}

*{ box-sizing: border-box; }
html, body{ height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#222; }

/* Top bar */
#toolbar{
  position: relative;
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  padding:10px; border-bottom:1px solid #eee; background:#fff;
  z-index: 1000; /* au-dessus de la carte */
}
#dept{
  padding:8px 10px; border:1px solid #ddd; border-radius:8px; min-width:260px;
}
.btn{
  padding:9px 14px; border:none; border-radius:8px; background:var(--blue); color:#fff; cursor:pointer;
}
.btn:disabled{ opacity:.6; cursor:default; }
#status{ font-size:13px; opacity:.85; }

/* Bouton ? */
.icon-btn{
  margin-left:auto;
  width:34px; height:34px; line-height:34px; text-align:center;
  border-radius:8px; border:1px solid #ddd; background:#fff; cursor:pointer; font-weight:700;
}
.icon-btn[aria-pressed="false"]{ opacity:.7; }

/* Carte */
#map{ height: calc(100vh - 60px); width:100%; }

/* Panneau LÃ©gende (Leaflet control) */
.legend{
  background: rgba(255,255,255,0.92);
  padding: 10px 12px;
  border-radius: 8px;
  font-size: 13px;
  line-height: 1.5;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
.legend .dot{
  display:inline-block; width:14px; height:14px; border-radius:50%;
  margin-right:6px; vertical-align:middle;
}
.legend .safe{ background: var(--green); }
.legend .warn{ background: var(--amber); }
.legend .risk{ background: var(--red); }
.legend .na  { background: var(--grey); }

/* Badges des popups */
.badge{ padding:2px 8px; border-radius:999px; font-size:12px; color:#fff; }
.badge.safe{ background: var(--green); }
.badge.warn{ background: var(--amber); color:#000; }
.badge.risk{ background: var(--red); }
.badge.na  { background: var(--grey); }

/* Mobile tweaks */
@media (max-width: 560px){
  #dept{ min-width: 180px; flex:1; }
  #status{ flex-basis: 100%; }
}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
#method{ padding:8px 10px; border:1px solid #ddd; border-radius:8px; }
